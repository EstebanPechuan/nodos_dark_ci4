(function () {
  $.MultiLanguage = function (ruta, idioma) {
    let page = window.location.pathname
    
    if (idioma == null) {
      idioma = null;
    }

    return $.getJSON(ruta, page, function (g) {
      var d, e;
      
      if (idioma !== null) { 
        let variableLocal = localStorage.MultiLanguage = idioma;
      } else {
        if (!localStorage.MultiLanguage) {
          idioma = localStorage.MultiLanguage = g.config["default"];
        } else {
          idioma = localStorage.MultiLanguage;
        }
      }

      if (page === '/nodos_idiomas/' || page === '/nodos_idiomas/home') {
        d = g.home[idioma];
      } else if (page === '/nodos_idiomas/nosotros') {
        d = g.nosotros[idioma];
      } else if (page === '/nodos_idiomas/servicios') {
        d = g.servicios[idioma];
      } else if (page === '/nodos_idiomas/exitos') {
        d = g.exitos[idioma];
      } else if (page === '/nodos_idiomas/nuestro_equipo') {
        d = g.nuestro_equipo[idioma];
      } else if (page === '/nodos_idiomas/noticias') {
        d = g.noticias[idioma];
      } else if (page === '/nodos_idiomas/noticias/educacion') {
        d = g.educacion[idioma];
      } else if (page === '/nodos_idiomas/noticias/red_federal') {
        d = g.red_federal[idioma];
      } else if (page === '/nodos_idiomas/noticias/osse') {
        d = g.osse[idioma];
      } else if (page === '/nodos_idiomas/home#contacto') {
        d = g.contacto[idioma];
      }
      e = [];
      for (let f in d) {
        h = d[f];

        if (f.length > 0) {
          e.push($(f).html(d[f]));
        } else {
          e.push(void 0);
        }
      }
      return e;
    });
  };
}.call(this));


// a, ruta
// c, idioma
